<div class="container">

    <!-- header row-->
    <div class="row-axis">
        <div class="row-title">
            Activities
        </div>
        <div class="month-axis">
            <span class="month" *ngFor="let month of monthAxis"
                [style.width]="month.monthDurationPercentage + '%'"> {{month.monthName}}</span>
        </div>
    </div>

     <!-- gantt chart rows-->
    <div class="gantt-chart-row" *ngFor="let row of rows; let i = index">
        <div class="row-title">
            {{row.name}}
        </div>
        <div class="row-events">
                <!-- event period blocks-->
                <div class="event-period tooltip" *ngFor="let event of row.events"
                [style.margin-left]="getEventOffsetPercentage(event.startDate)+'%'"
                [style.width]="getEventDurationPercentage(event) + '%'" [style.background]="getColour(i)" >
                    <span class="event-name">{{event.name}}</span>
                    <div class="tooltip-text">
                        <div><strong>{{event.name}}: </strong></div>
                       {{event.startDate | date:'mediumDate'}} - {{event.endDate | date:'mediumDate'}}
                    </div>
            </div>
            
            <!-- event milestones-->
            <div class="event-milestone tooltip" 
                    *ngFor="let milestone of row.mileStones" 
                    [style.margin-left]="getEventOffsetPercentage(milestone.date)+'%'">
                    <i class="fas fa-star"></i>
                    <div class="tooltip-text">
                        <div><strong>{{milestone.name}}: </strong></div>
                       {{milestone.date | date:'mediumDate'}}
                    </div>
            </div>

            <!-- gantt chart grid lines-->
            <div class="grid-lines">
                <span class="grid-line" *ngFor="let month of monthAxis"
                [style.width]="month.monthDurationPercentage + '%'"></span>
            </div>
        </div>
    </div>
</div>

